<div class="page-wrapper page-wrapper1">
  <div class=" card  accordion-body">
    <div class="content container ">
      <div class="page-header">
        <div class="row align-items-center">
          <div class="col">
            <h3 class="page-title mt-5">Add Branch</h3>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12">
          <form [formGroup]="addBranchForm" (ngSubmit)="saveNewMember()">
            <div class="row formtype">
              <div class="col-md-3">
                <div class="form-group">
                  <label>Branch Code</label>
                  <input class="form-control" type="text" value="" autocomplete="off" id="branch_code"
                    name="branch_code" formControlName="branch_code"
                    [ngClass]="{'is-invalid' :submitted && f.branch_code.errors}">
                  <div *ngIf="submitted &&  f.branch_code.errors" class="invalid-feedback ">Please provide Branch Code
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label>Name</label>
                  <input class="form-control form-control-lg" id="name" name="name" autocomplete="off"
                    formControlName="name" [ngClass]="{ 'is-invalid': submitted && f.name.errors }">
                  <div *ngIf="submitted && f.name.errors" class="invalid-feedback ">
                    Please Enter Branch Name.
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label>Location</label>
                  <input class="form-control form-control-lg" id="location" name="location" autocomplete="off"
                    formControlName="location" [ngClass]="{'is-invalid' : submitted && f.location.errors}">
                  <div *ngIf="submitted && f.location.errors" class="invalid-feedback">Please Enter Your Location</div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label class="  ">Logo</label>
                  <input type="file" id="location" name="location" autocomplete="off" formControlName="location"
                    [ngClass]="{'is-invalid' : submitted && f.location.errors}">
                  <div *ngIf="submitted && f.location.errors" class="invalid-feedback">Please Enter Your Location</div>
                </div>
              </div>
            </div>

            <hr style="height: 2px;">
            <div class="col-md-12">

              <div class="row">
                <div class="col d-flex flex-row justify-content-end mb-4   ">
                  <button type="button" class="btn2 btn2-link   float-center" style="text-align:center;"
                    (click)="addRoom()"> <i class="fa fa-plus" aria-hidden="true"></i></button>
                </div>
              </div>
              <div formArrayName="rooms">
                <div class="row" *ngFor="let room of roomsFormArray.controls; let i = index" [formGroupName]="i">
                  <div class="col-md-3">
                    <div class="form-group">
                      <label>Room Type</label>
                      <select class="form-control form-control-lg" id="room_type" name="room_type"
                        formControlName="room_type">
                        <option>Delux</option>
                        <option>standard</option>
                        <option>Suite</option>
                      </select>
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div class="form-group">
                      <label>Room Sharing</label>
                      <select class="form-control form-control-lg" id="sharing" name="sharing"
                        formControlName="sharing">
                        <option>double</option>
                        <option>single</option>
                      </select>
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div class="form-group">
                      <label>Price</label>
                      <input type="text" class="form-control" autocomplete="off" placeholder="" name="price" id="price"
                        oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, 10);" formControlName="price">
                    </div>
                  </div>
                  <div class="col-md-3">
                    <label>Delete</label><br>
                    <button type="button" class="btn1 btn-danger" (click)="removeRoom(i)">
                      <i class="fa fa-trash" aria-hidden="true"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class=" ">
              <div class="col-md-3 ml-4">
                <label>Total Rooms</label>
                <input class="form-control form-control-lg" id="total_rooms" autocomplete="off" name="total_rooms"
                  [value]="roomsFormArray.length" disabled>
                <div *ngIf="submitted && f.total_rooms.errors" class="invalid-feedback">Please Enter Total Rooms</div>
              </div>
              <div class="col-md-3 ml-4"><label>Available Rooms</label>
                <input class="form-control form-control-lg" id="available_rooms" autocomplete="off" name="available_rooms" formControlName="available_rooms"
                 >
                <div *ngIf="submitted && f.available_rooms.errors" class="invalid-feedback">Please Enter Availble Rooms</div> </div>

              <div class="col-md-3"><br>
                <button type="submit" class="btn buttonedit float-end">Save</button>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="my-5">
        <span><b>Note: The Price you entered here will update on the rooms page on the website.</b></span>
      </div>
    </div>
  </div>
</div>




